(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{15:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(5),r=n.n(i),o=(n(15),n(3)),s=n(1);var d=function(t){var e=t.tags;return Object(s.jsxs)(s.Fragment,{children:["\u0442\u0435\u0433\u0438: ",e.map((function(t){return Object(s.jsxs)("button",{children:["#",t]},t)}))]})},l=(n(21),"POST_EDIT_SUBMIT"),j="POST_EDIT_CANCEL",u="POST_EDIT_CHANGE",b="POST_LIKE",O="POST_REMOVE",h="POST_HIDE",p="POST_EDIT",v="POST_SHOW";var f=function(t){var e=t.post,n=e.author,a=e.photo,c=Object(o.c)();return e.hidden?Object(s.jsx)("article",{children:Object(s.jsxs)("header",{children:[Object(s.jsx)("img",{src:n.avatar,className:"Post-avatar",width:"50",height:"50",alt:n.name}),Object(s.jsx)("h5",{children:n.name}),Object(s.jsx)("button",{onClick:function(){var t;c((t=e.id,{type:v,payload:{id:t}}))},children:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})]})}):Object(s.jsxs)("article",{children:[Object(s.jsxs)("header",{children:[Object(s.jsx)("img",{src:n.avatar,className:"Post-avatar",width:"50",height:"50",alt:n.name}),Object(s.jsx)("h5",{children:n.name}),Object(s.jsx)("button",{onClick:function(){var t;c((t=e.id,{type:O,payload:{id:t}}))},children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(s.jsx)("button",{onClick:function(){var t;c((t=e.id,{type:h,payload:{id:t}}))},children:"\u0441\u043a\u0440\u044b\u0442\u044c"}),Object(s.jsx)("button",{onClick:function(){var t;c((t=e.id,{type:p,payload:{id:t}}))},children:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(s.jsx)("div",{children:e.created}),e.hit&&Object(s.jsx)("span",{children:"HIT"})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"Post-content",children:e.content}),a&&Object(s.jsx)("img",{src:a.url,alt:a.alt,className:"Post-photo"})]}),Object(s.jsx)("footer",{children:Object(s.jsxs)("span",{className:"Post-likes",onClick:function(){var t;c((t=e.id,{type:b,payload:{id:t}}))},children:[Object(s.jsx)("img",{src:e.likedByMe?"https://itchief.ru/assets/images/other/heart.svg":"https://img.icons8.com/ios/500/like--v2.png",alt:"likes",width:"20",height:"20"}),Object(s.jsx)("span",{className:"Post-likes-count",children:e.likes}),e.tags&&Object(s.jsx)(d,{tags:e.tags})]})})]})};var g=function(){var t,e,n,c=Object(o.c)(),i=Object(o.d)((function(t){return t.edited}),o.b),r=Object(a.useRef)(null),d=function(t){var e=t.target,n=e.name,a=e.value;c(function(t,e){return{type:u,payload:{name:t,value:e}}}(n,a))};return Object(s.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c({type:l,payload:{}}),r.current.focus()},children:[Object(s.jsx)("textarea",{ref:r,name:"content",placeholder:"content",value:i.content||"",onChange:d}),Object(s.jsx)("input",{name:"tags",placeholder:"tags",value:(null===(t=i.tags)||void 0===t?void 0:t.join(" "))||"",onChange:d}),Object(s.jsx)("input",{name:"photo",placeholder:"photo",value:(null===(e=i.photo)||void 0===e?void 0:e.url)||"",onChange:d}),Object(s.jsx)("input",{name:"alt",placeholder:"alt",value:(null===(n=i.photo)||void 0===n?void 0:n.alt)||"",onChange:d}),Object(s.jsx)("button",{children:"Ok"}),0!==i.id&&Object(s.jsx)("button",{onClick:function(t){t.preventDefault(),c({type:j,payload:{}})},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})};var x=function(){var t=Object(o.d)((function(t){return t.posts}),o.b);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g,{}),Object(s.jsx)("div",{children:t.map((function(t){return Object(s.jsx)(f,{post:t},t.id)}))})]})};var m=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(x,{})})},y=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))},k=n(10),C=n(9),P=n(4),T=n(2),S={id:0,author:{avatar:"https://ikonki.svgpng.ru/wp-content/uploads/2021/02/Inkognitolsvg.svg",name:"Matin"},content:"",photo:null,hit:!1,likes:0,likedByMe:!1,hidden:!1,tags:null,created:0},E={posts:[],edited:S},I=function(t,e){var n=t.posts,a=e.payload.id,c=n.find((function(t){return t.id===a}));if(void 0!==c)return Object(T.a)(Object(T.a)({},t),{},{edited:c})},_=function(t,e){var n=t.posts,a=e.payload.id;return Object(T.a)(Object(T.a)({},t),{},{posts:n.map((function(t){if(t.id!==a)return t;var e=!t.hidden;return Object(T.a)(Object(T.a)({},t),{},{hidden:e})}))})},D=function(t,e){var n=t.posts,a=e.payload.id;return Object(T.a)(Object(T.a)({},t),{},{posts:n.filter((function(t){return t.id!==a}))})},w=function(t,e){var n=t.posts,a=e.payload.id;return Object(T.a)(Object(T.a)({},t),{},{posts:n.map((function(t){if(t.id!==a)return t;var e=!t.likedByMe,n=e?t.likes+1:t.likes-1;return Object(T.a)(Object(T.a)({},t),{},{likedByMe:e,likes:n})}))})},N=function(t,e){return Object(T.a)(Object(T.a)({},t),{},{edited:S})},M=function(t,e){var n=t.edited,a=e.payload,c=a.name,i=a.value;if("tags"===c){var r=i.split(" ");return Object(T.a)(Object(T.a)({},t),{},{edited:Object(T.a)(Object(T.a)({},n),{},Object(P.a)({},c,r))})}if("photo"===c||"alt"===c){var o="photo"===c?"url":c;return Object(T.a)(Object(T.a)({},t),{},{edited:Object(T.a)(Object(T.a)({},n),{},{photo:Object(T.a)(Object(T.a)({},n.photo),{},Object(P.a)({},o,i))})})}return Object(T.a)(Object(T.a)({},t),{},{edited:Object(T.a)(Object(T.a)({},n),{},Object(P.a)({},c,i))})},B=function(t,e){var n,a,c=t.edited,i=t.posts,r=(null===(n=c.tags)||void 0===n?void 0:n.map((function(t){return t.replace("#","")})).filter((function(t){return""!==t.trim()})))||[],o=0!==r.length?r:null,s=Object(T.a)(Object(T.a)({},c),{},{id:c.id||Date.now(),created:c.created||Date.now(),tags:o,photo:(null===(a=c.photo)||void 0===a?void 0:a.url)?Object(T.a)({alt:""},c.photo):null});return 0===(null===c||void 0===c?void 0:c.id)?Object(T.a)(Object(T.a)({},t),{},{posts:[Object(T.a)({},s)].concat(Object(C.a)(i)),edited:S}):Object(T.a)(Object(T.a)({},t),{},{posts:i.map((function(t){return t.id!==s.id?t:Object(T.a)({},s)})),edited:S})},F=Object(k.a)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:return B(t,e);case j:return N(t,e);case u:return M(t,e);case b:return w(t,e);case O:return D(t,e);case h:return _(t,e);case p:return I(t,e);case v:return _(t,e);default:return t}}));r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(o.a,{store:F,children:Object(s.jsx)(m,{})})}),document.getElementById("root")),y()}},[[22,1,2]]]);
//# sourceMappingURL=main.f0b42db7.chunk.js.map